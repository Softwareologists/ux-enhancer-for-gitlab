import{e as et,r as C,m as tt,i as St,w as G,a as nt,b as ge,c as st,t as wt,h as It,g as lt,o as at,n as ye,d as ue,f as D,j as At,k as Ue,l as Tt,u as P,p as ce,q as ot,s as te,v as le,x as L,F as re,y as _e,z as N,A as S,B as T,C as H,D as V,_ as j,E as Mt,G as He,H as Y,T as Me,I as rt,J as z,K as we,L as Ie,M as W,N as kt,O as Ot,P as Ct,Q as Lt,R as xt,S as Pt,U as Dt,V as Rt,W as Vt,X as Nt,Y as jt,Z as $t,$ as it,a0 as Fe,a1 as Ut,a2 as Ht,a3 as Gt,a4 as qt}from"./SvgLogo.js";var Ft=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let ut;const ke=e=>ut=e,ct=Symbol();function De(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var be;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(be||(be={}));function Wt(){const e=et(!0),t=e.run(()=>C({}));let s=[],n=[];const l=tt({install(a){ke(l),l._a=a,a.provide(ct,l),a.config.globalProperties.$pinia=l,n.forEach(o=>s.push(o)),n=[]},use(a){return!this._a&&!Ft?n.push(a):s.push(a),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return l}const dt=()=>{};function We(e,t,s,n=dt){e.push(t);const l=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),n())};return!s&&lt()&&at(l),l}function de(e,...t){e.slice().forEach(s=>{s(...t)})}const Bt=e=>e();function Re(e,t){e instanceof Map&&t instanceof Map&&t.forEach((s,n)=>e.set(n,s)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const n=t[s],l=e[s];De(l)&&De(n)&&e.hasOwnProperty(s)&&!ge(n)&&!st(n)?e[s]=Re(l,n):e[s]=n}return e}const Zt=Symbol();function Jt(e){return!De(e)||!e.hasOwnProperty(Zt)}const{assign:ee}=Object;function Yt(e){return!!(ge(e)&&e.effect)}function zt(e,t,s,n){const{state:l,actions:a,getters:o}=t,r=s.state.value[e];let f;function g(){r||(s.state.value[e]=l?l():{});const c=ue(s.state.value[e]);return ee(c,a,Object.keys(o||{}).reduce((i,u)=>(i[u]=tt(D(()=>{ke(s);const m=s._s.get(e);return o[u].call(m,m)})),i),{}))}return f=ft(e,g,t,s,n,!0),f}function ft(e,t,s={},n,l,a){let o;const r=ee({actions:{}},s),f={deep:!0};let g,c,i=[],u=[],m;const y=n.state.value[e];!a&&!y&&(n.state.value[e]={}),C({});let M;function E(v){let d;g=c=!1,typeof v=="function"?(v(n.state.value[e]),d={type:be.patchFunction,storeId:e,events:m}):(Re(n.state.value[e],v),d={type:be.patchObject,payload:v,storeId:e,events:m});const I=M=Symbol();ye().then(()=>{M===I&&(g=!0)}),c=!0,de(i,d,n.state.value[e])}const h=a?function(){const{state:d}=s,I=d?d():{};this.$patch(R=>{ee(R,I)})}:dt;function A(){o.stop(),i=[],u=[],n._s.delete(e)}function p(v,d){return function(){ke(n);const I=Array.from(arguments),R=[],U=[];function q(x){R.push(x)}function me(x){U.push(x)}de(u,{args:I,name:v,store:_,after:q,onError:me});let F;try{F=d.apply(this&&this.$id===e?this:_,I)}catch(x){throw de(U,x),x}return F instanceof Promise?F.then(x=>(de(R,x),x)).catch(x=>(de(U,x),Promise.reject(x))):(de(R,F),F)}}const w={_p:n,$id:e,$onAction:We.bind(null,u),$patch:E,$reset:h,$subscribe(v,d={}){const I=We(i,v,d.detached,()=>R()),R=o.run(()=>G(()=>n.state.value[e],U=>{(d.flush==="sync"?c:g)&&v({storeId:e,type:be.direct,events:m},U)},ee({},f,d)));return I},$dispose:A},_=nt(w);n._s.set(e,_);const k=(n._a&&n._a.runWithContext||Bt)(()=>n._e.run(()=>(o=et()).run(t)));for(const v in k){const d=k[v];if(ge(d)&&!Yt(d)||st(d))a||(y&&Jt(d)&&(ge(d)?d.value=y[v]:Re(d,y[v])),n.state.value[e][v]=d);else if(typeof d=="function"){const I=p(v,d);k[v]=I,r.actions[v]=d}}return ee(_,k),ee(wt(_),k),Object.defineProperty(_,"$state",{get:()=>n.state.value[e],set:v=>{E(d=>{ee(d,v)})}}),n._p.forEach(v=>{ee(_,o.run(()=>v({store:_,app:n._a,pinia:n,options:r})))}),y&&a&&s.hydrate&&s.hydrate(_.$state,y),g=!0,c=!0,_}function Kt(e,t,s){let n,l;const a=typeof t=="function";typeof e=="string"?(n=e,l=a?s:t):(l=e,n=e.id);function o(r,f){const g=It();return r=r||(g?St(ct,null):null),r&&ke(r),r=ut,r._s.has(n)||(a?ft(n,t,l,r):zt(n,l,r)),r._s.get(n)}return o.$id=n,o}function Oe(e){return lt()?(at(e),!0):!1}function Ce(){const e=new Set,t=l=>{e.delete(l)};return{on:l=>{e.add(l);const a=()=>t(l);return Oe(a),{off:a}},off:t,trigger:(...l)=>Promise.all(Array.from(e).map(a=>a(...l)))}}function B(e){return typeof e=="function"?e():P(e)}const Ge=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Xt=Object.prototype.toString,Qt=e=>Xt.call(e)==="[object Object]",Ae=()=>{},en=tn();function tn(){var e,t;return Ge&&((e=window?.navigator)==null?void 0:e.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((t=window?.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function nn(e,t){function s(...n){return new Promise((l,a)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(l).catch(a)})}return s}const gt=e=>e();function sn(e=gt){const t=C(!0);function s(){t.value=!1}function n(){t.value=!0}const l=(...a)=>{t.value&&e(...a)};return{isActive:Ue(t),pause:s,resume:n,eventFilter:l}}function Be(e,t=!1,s="Timeout"){return new Promise((n,l)=>{setTimeout(t?()=>l(s):n,e)})}function ln(e,...t){return t.some(s=>s in e)}function an(e){return Object.entries(e)}function on(e){return e||ot()}function Le(...e){if(e.length!==1)return At(...e);const t=e[0];return typeof t=="function"?Ue(Tt(()=>({get:t,set:Ae}))):C(t)}function rn(e,t,s={}){const{eventFilter:n=gt,...l}=s;return G(e,nn(n,t),l)}function un(e,t,s={}){const{eventFilter:n,...l}=s,{eventFilter:a,pause:o,resume:r,isActive:f}=sn(n);return{stop:rn(e,t,{...l,eventFilter:a}),pause:o,resume:r,isActive:f}}function cn(e,t=!0,s){const n=on(s);n?ce(e,n):t?e():ye(e)}function Ve(e,t=!1){function s(i,{flush:u="sync",deep:m=!1,timeout:y,throwOnTimeout:M}={}){let E=null;const A=[new Promise(p=>{E=G(e,w=>{i(w)!==t&&(E?.(),p(w))},{flush:u,deep:m,immediate:!0})})];return y!=null&&A.push(Be(y,M).then(()=>B(e)).finally(()=>E?.())),Promise.race(A)}function n(i,u){if(!ge(i))return s(w=>w===i,u);const{flush:m="sync",deep:y=!1,timeout:M,throwOnTimeout:E}=u??{};let h=null;const p=[new Promise(w=>{h=G([e,i],([_,b])=>{t!==(_===b)&&(h?.(),w(_))},{flush:m,deep:y,immediate:!0})})];return M!=null&&p.push(Be(M,E).then(()=>B(e)).finally(()=>(h?.(),B(e)))),Promise.race(p)}function l(i){return s(u=>!!u,i)}function a(i){return n(null,i)}function o(i){return n(void 0,i)}function r(i){return s(Number.isNaN,i)}function f(i,u){return s(m=>{const y=Array.from(m);return y.includes(i)||y.includes(B(i))},u)}function g(i){return c(1,i)}function c(i=1,u){let m=-1;return s(()=>(m+=1,m>=i),u)}return Array.isArray(B(e))?{toMatch:s,toContains:f,changed:g,changedTimes:c,get not(){return Ve(e,!t)}}:{toMatch:s,toBe:n,toBeTruthy:l,toBeNull:a,toBeNaN:r,toBeUndefined:o,changed:g,changedTimes:c,get not(){return Ve(e,!t)}}}function dn(e){return Ve(e)}function fn(e,t,s={}){const{immediate:n=!0}=s,l=C(!1);let a=null;function o(){a&&(clearTimeout(a),a=null)}function r(){l.value=!1,o()}function f(...g){o(),l.value=!0,a=setTimeout(()=>{l.value=!1,a=null,e(...g)},B(t))}return n&&(l.value=!0,Ge&&f()),Oe(r),{isPending:Ue(l),start:f,stop:r}}function fe(e){var t;const s=B(e);return(t=s?.$el)!=null?t:s}const ne=Ge?window:void 0;function ie(...e){let t,s,n,l;if(typeof e[0]=="string"||Array.isArray(e[0])?([s,n,l]=e,t=ne):[t,s,n,l]=e,!t)return Ae;Array.isArray(s)||(s=[s]),Array.isArray(n)||(n=[n]);const a=[],o=()=>{a.forEach(c=>c()),a.length=0},r=(c,i,u,m)=>(c.addEventListener(i,u,m),()=>c.removeEventListener(i,u,m)),f=G(()=>[fe(t),B(l)],([c,i])=>{if(o(),!c)return;const u=Qt(i)?{...i}:i;a.push(...s.flatMap(m=>n.map(y=>r(c,m,y,u))))},{immediate:!0,flush:"post"}),g=()=>{f(),o()};return Oe(g),g}let Ze=!1;function gn(e,t,s={}){const{window:n=ne,ignore:l=[],capture:a=!0,detectIframe:o=!1}=s;if(!n)return;en&&!Ze&&(Ze=!0,Array.from(n.document.body.children).forEach(u=>u.addEventListener("click",Ae)),n.document.documentElement.addEventListener("click",Ae));let r=!0;const f=u=>l.some(m=>{if(typeof m=="string")return Array.from(n.document.querySelectorAll(m)).some(y=>y===u.target||u.composedPath().includes(y));{const y=fe(m);return y&&(u.target===y||u.composedPath().includes(y))}}),c=[ie(n,"click",u=>{const m=fe(e);if(!(!m||m===u.target||u.composedPath().includes(m))){if(u.detail===0&&(r=!f(u)),!r){r=!0;return}t(u)}},{passive:!0,capture:a}),ie(n,"pointerdown",u=>{const m=fe(e);r=!f(u)&&!!(m&&!u.composedPath().includes(m))},{passive:!0}),o&&ie(n,"blur",u=>{setTimeout(()=>{var m;const y=fe(e);((m=n.document.activeElement)==null?void 0:m.tagName)==="IFRAME"&&!y?.contains(n.document.activeElement)&&t(u)},0)})].filter(Boolean);return()=>c.forEach(u=>u())}function mn(){const e=C(!1);return ot()&&ce(()=>{e.value=!0}),e}function pn(e){const t=mn();return D(()=>(t.value,!!e()))}const Je=["hash","host","hostname","href","pathname","port","protocol","search"];function vn(e={}){const{window:t=ne}=e,s=Object.fromEntries(Je.map(a=>[a,C()]));for(const[a,o]of an(s))G(o,r=>{!t?.location||t.location[a]===r||(t.location[a]=r)});const n=a=>{var o;const{state:r,length:f}=t?.history||{},{origin:g}=t?.location||{};for(const c of Je)s[c].value=(o=t?.location)==null?void 0:o[c];return nt({trigger:a,state:r,length:f,origin:g,...s})},l=C(n("load"));return t&&(ie(t,"popstate",()=>l.value=n("popstate"),{passive:!0}),ie(t,"hashchange",()=>l.value=n("hashchange"),{passive:!0})),l}const Ee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Se="__vueuse_ssr_handlers__",hn=bn();function bn(){return Se in Ee||(Ee[Se]=Ee[Se]||{}),Ee[Se]}function _n(e,t){return hn[e]||t}function yn(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const En={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Ye="vueuse-storage";function Sn(e,t,s,n={}){var l;const{flush:a="pre",deep:o=!0,listenToStorageChanges:r=!0,writeDefaults:f=!0,mergeDefaults:g=!1,shallow:c,window:i=ne,eventFilter:u,onError:m=d=>{console.error(d)},initOnMounted:y}=n,M=(c?te:C)(typeof t=="function"?t():t);if(!s)try{s=_n("getDefaultStorage",()=>{var d;return(d=ne)==null?void 0:d.localStorage})()}catch(d){m(d)}if(!s)return M;const E=B(t),h=yn(E),A=(l=n.serializer)!=null?l:En[h],{pause:p,resume:w}=un(M,()=>_(M.value),{flush:a,deep:o,eventFilter:u});return i&&r&&cn(()=>{ie(i,"storage",v),ie(i,Ye,k),y&&v()}),y||v(),M;function _(d){try{if(d==null)s.removeItem(e);else{const I=A.write(d),R=s.getItem(e);R!==I&&(s.setItem(e,I),i&&i.dispatchEvent(new CustomEvent(Ye,{detail:{key:e,oldValue:R,newValue:I,storageArea:s}})))}}catch(I){m(I)}}function b(d){const I=d?d.newValue:s.getItem(e);if(I==null)return f&&E!=null&&s.setItem(e,A.write(E)),E;if(!d&&g){const R=A.read(I);return typeof g=="function"?g(R,E):h==="object"&&!Array.isArray(R)?{...E,...R}:R}else return typeof I!="string"?I:A.read(I)}function k(d){v(d.detail)}function v(d){if(!(d&&d.storageArea!==s)){if(d&&d.key==null){M.value=E;return}if(!(d&&d.key!==e)){p();try{d?.newValue!==A.write(M.value)&&(M.value=b(d))}catch(I){m(I)}finally{d?ye(w):w()}}}}}function wn(e,t,s={}){const{window:n=ne,...l}=s;let a;const o=pn(()=>n&&"MutationObserver"in n),r=()=>{a&&(a.disconnect(),a=void 0)},f=G(()=>fe(e),i=>{r(),o.value&&n&&i&&(a=new MutationObserver(t),a.observe(i,l))},{immediate:!0}),g=()=>a?.takeRecords(),c=()=>{r(),f()};return Oe(c),{isSupported:o,stop:c,takeRecords:g}}const In={json:"application/json",text:"text/plain"};function ze(e){return e&&ln(e,"immediate","refetch","initialData","timeout","beforeFetch","afterFetch","onFetchError","fetch","updateDataOnError")}function xe(e){return typeof Headers<"u"&&e instanceof Headers?Object.fromEntries([...e.entries()]):e}function se(e,...t){var s;const n=typeof AbortController=="function";let l={},a={immediate:!0,refetch:!1,timeout:0,updateDataOnError:!1};const o={method:"GET",type:"text",payload:void 0};t.length>0&&(ze(t[0])?a={...a,...t[0]}:l=t[0]),t.length>1&&ze(t[1])&&(a={...a,...t[1]});const{fetch:r=(s=ne)==null?void 0:s.fetch,initialData:f,timeout:g}=a,c=Ce(),i=Ce(),u=Ce(),m=C(!1),y=C(!1),M=C(!1),E=C(null),h=te(null),A=te(null),p=te(f||null),w=D(()=>n&&y.value);let _,b;const k=()=>{n&&(_?.abort(),_=new AbortController,_.signal.onabort=()=>M.value=!0,l={...l,signal:_.signal})},v=x=>{y.value=x,m.value=!x};g&&(b=fn(k,g,{immediate:!1}));let d=0;const I=async(x=!1)=>{var J,X;k(),v(!0),A.value=null,E.value=null,M.value=!1,d+=1;const pe=d,ae={method:o.method,headers:{}};if(o.payload){const $=xe(ae.headers),Q=B(o.payload);!o.payloadType&&Q&&Object.getPrototypeOf(Q)===Object.prototype&&!(Q instanceof FormData)&&(o.payloadType="json"),o.payloadType&&($["Content-Type"]=(J=In[o.payloadType])!=null?J:o.payloadType),ae.body=o.payloadType==="json"?JSON.stringify(Q):Q}let qe=!1;const ve={url:B(e),options:{...ae,...l},cancel:()=>{qe=!0}};if(a.beforeFetch&&Object.assign(ve,await a.beforeFetch(ve)),qe||!r)return v(!1),Promise.resolve(null);let oe=null;return b&&b.start(),r(ve.url,{...ae,...ve.options,headers:{...xe(ae.headers),...xe((X=ve.options)==null?void 0:X.headers)}}).then(async $=>{if(h.value=$,E.value=$.status,oe=await $.clone()[o.type](),!$.ok)throw p.value=f||null,new Error($.statusText);return a.afterFetch&&({data:oe}=await a.afterFetch({data:oe,response:$})),p.value=oe,c.trigger($),$}).catch(async $=>{let Q=$.message||$.name;if(a.onFetchError&&({error:Q,data:oe}=await a.onFetchError({data:oe,error:$,response:h.value})),A.value=Q,a.updateDataOnError&&(p.value=oe),i.trigger($),x)throw $;return null}).finally(()=>{pe===d&&v(!1),b&&b.stop(),u.trigger(null)})},R=Le(a.refetch);G([R,Le(e)],([x])=>x&&I(),{deep:!0});const U={isFinished:m,statusCode:E,response:h,error:A,data:p,isFetching:y,canAbort:w,aborted:M,abort:k,execute:I,onFetchResponse:c.on,onFetchError:i.on,onFetchFinally:u.on,get:q("GET"),put:q("PUT"),post:q("POST"),delete:q("DELETE"),patch:q("PATCH"),head:q("HEAD"),options:q("OPTIONS"),json:F("json"),text:F("text"),blob:F("blob"),arrayBuffer:F("arrayBuffer"),formData:F("formData")};function q(x){return(J,X)=>{if(!y.value)return o.method=x,o.payload=J,o.payloadType=X,ge(o.payload)&&G([R,Le(o.payload)],([pe])=>pe&&I(),{deep:!0}),{...U,then(pe,ae){return me().then(pe,ae)}}}}function me(){return new Promise((x,J)=>{dn(m).toBe(!0).then(()=>x(U)).catch(X=>J(X))})}function F(x){return()=>{if(!y.value)return o.type=x,{...U,then(J,X){return me().then(J,X)}}}}return a.immediate&&Promise.resolve().then(()=>I()),{...U,then(x,J){return me().then(x,J)}}}function An(e,t,s={}){const{window:n=ne}=s;return Sn(e,t,n?.localStorage,s)}var Tn=typeof global=="object"&&global&&global.Object===Object&&global;const Mn=Tn;var kn=typeof self=="object"&&self&&self.Object===Object&&self,On=Mn||kn||Function("return this")();const mt=On;var Cn=mt.Symbol;const Te=Cn;var pt=Object.prototype,Ln=pt.hasOwnProperty,xn=pt.toString,he=Te?Te.toStringTag:void 0;function Pn(e){var t=Ln.call(e,he),s=e[he];try{e[he]=void 0;var n=!0}catch{}var l=xn.call(e);return n&&(t?e[he]=s:delete e[he]),l}var Dn=Object.prototype,Rn=Dn.toString;function Vn(e){return Rn.call(e)}var Nn="[object Null]",jn="[object Undefined]",Ke=Te?Te.toStringTag:void 0;function $n(e){return e==null?e===void 0?jn:Nn:Ke&&Ke in Object(e)?Pn(e):Vn(e)}function Un(e){return e!=null&&typeof e=="object"}var Hn="[object Symbol]";function Gn(e){return typeof e=="symbol"||Un(e)&&$n(e)==Hn}var qn=/\s/;function Fn(e){for(var t=e.length;t--&&qn.test(e.charAt(t)););return t}var Wn=/^\s+/;function Bn(e){return e&&e.slice(0,Fn(e)+1).replace(Wn,"")}function Ne(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Xe=0/0,Zn=/^[-+]0x[0-9a-f]+$/i,Jn=/^0b[01]+$/i,Yn=/^0o[0-7]+$/i,zn=parseInt;function Qe(e){if(typeof e=="number")return e;if(Gn(e))return Xe;if(Ne(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ne(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Bn(e);var s=Jn.test(e);return s||Yn.test(e)?zn(e.slice(2),s?2:8):Zn.test(e)?Xe:+e}var Kn=function(){return mt.Date.now()};const Pe=Kn;var Xn="Expected a function",Qn=Math.max,es=Math.min;function Z(e,t,s){var n,l,a,o,r,f,g=0,c=!1,i=!1,u=!0;if(typeof e!="function")throw new TypeError(Xn);t=Qe(t)||0,Ne(s)&&(c=!!s.leading,i="maxWait"in s,a=i?Qn(Qe(s.maxWait)||0,t):a,u="trailing"in s?!!s.trailing:u);function m(b){var k=n,v=l;return n=l=void 0,g=b,o=e.apply(v,k),o}function y(b){return g=b,r=setTimeout(h,t),c?m(b):o}function M(b){var k=b-f,v=b-g,d=t-k;return i?es(d,a-v):d}function E(b){var k=b-f,v=b-g;return f===void 0||k>=t||k<0||i&&v>=a}function h(){var b=Pe();if(E(b))return A(b);r=setTimeout(h,M(b))}function A(b){return r=void 0,u&&n?m(b):(n=l=void 0,o)}function p(){r!==void 0&&clearTimeout(r),g=0,n=f=l=r=void 0}function w(){return r===void 0?o:A(Pe())}function _(){var b=Pe(),k=E(b);if(n=arguments,l=this,f=b,k){if(r===void 0)return y(f);if(i)return clearTimeout(r),r=setTimeout(h,t),m(f)}return r===void 0&&(r=setTimeout(h,t)),o}return _.cancel=p,_.flush=w,_}var O=(e=>(e.COMMAND_PANEL_STARRED_PROJECTS="command_panel_starred_projects",e.COMMAND_PANEL_MOVE_PLACES="command_panel_move_places",e.GENERAL_HIGHLIGHT_MY_ISSUES_MRS="general_highlight_my_issues_mrs",e.ISSUE_SHOW_MY_UNRESOLVED_THREADS="issue_show_my_unresolved_threads",e.ISSUE_RENDER_PROJECT_AVATARS="issue_render_project_avatars",e.ISSUE_VALIDATE_MISSING_EPIC="issue_validate_missing_epic",e.ISSUE_VALIDATE_MISSING_MILESTONE="issue_validate_missing_milestone",e.ISSUE_VALIDATE_MISSING_ITERATION="issue_validate_missing_iteration",e.ISSUE_VALIDATE_MISSING_WEIGHT="issue_validate_missing_weight",e.ISSUE_VALIDATE_UNRESOLVED_THREADS="issue_validate_unresolved_threads",e.ISSUE_REQUIRED_SCOPED_LABELS="issue_required_scoped_labels",e.MR_SHOW_MY_UNRESOLVED_THREADS="mr_show_my_unresolved_threads",e.MR_DIM_DRAFT="mr_dim_draft",e.MR_HOTKEY_VIEWED_NEXT="mr_hotkey_viewed_next",e))(O||{});const K=Kt("resize",()=>{const e=An("chrome-gitlab-enhancer",C(new Map));function t(n,l=null){const a=e.value.get(n);return a===void 0?l:a}function s(n,l){e.value.set(n,l)}return{getSetting:t,setSetting:s}}),ts="M10.34 1.22a.75.75 0 0 0-1.06 0L7.53 2.97 7 3.5l.53.53 1.75 1.75a.75.75 0 1 0 1.06-1.06l-.47-.47h.63c.69 0 1.25.56 1.25 1.25v4.614a2.501 2.501 0 1 0 1.5 0V5.5a2.75 2.75 0 0 0-2.75-2.75h-.63l.47-.47a.75.75 0 0 0 0-1.06zM13.5 12.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-9 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm1.5 0a2.5 2.5 0 1 1-3.25-2.386V5.886a2.501 2.501 0 1 1 1.5 0v4.228A2.501 2.501 0 0 1 6 12.5zm-1.5-9a1 1 0 1 1-2 0 1 1 0 0 1 2 0z",je="M2.22 10.78a.75.75 0 0 1 0-1.06l5.252-5.252a.75.75 0 0 1 1.06 0l5.252 5.252a.75.75 0 1 1-1.06 1.06L8.001 6.06 3.28 10.78a.75.75 0 0 1-1.06 0Z",$e="M2.22 5.22a.75.75 0 0 0 0 1.06l5.252 5.252a.75.75 0 0 0 1.06 0l5.252-5.252a.75.75 0 1 0-1.06-1.06L8.001 9.94 3.28 5.22a.75.75 0 0 0-1.06 0Z",ns="M3 2.5h6a.5.5 0 0 1 .5.5v10a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5V3a.5.5 0 0 1 .5-.5ZM1 3a2 2 0 0 1 2-2h6a2 2 0 0 1 1.97 1.658l2.913 1.516a1.75 1.75 0 0 1 .744 2.36l-3.878 7.45a.753.753 0 0 1-.098.145c-.36.526-.965.871-1.651.871H3a2 2 0 0 1-2-2V3Zm10 7.254 2.297-4.413a.25.25 0 0 0-.106-.337L11 4.364v5.89Z",ss="M6.272 3.864a4.5 4.5 0 1 0-.1 8.314.75.75 0 1 0-.557-1.393 3 3 0 1 1 .066-5.543.75.75 0 1 0 .59-1.378ZM11.5 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm0 1.5a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9ZM6 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z",vt="M3.391 4.844a3.375 3.375 0 1 1 1.485 6.406h-.002a3.865 3.865 0 0 1-.06 0H.75a.75.75 0 0 0 0 1.5h12.379l-.97.97a.75.75 0 1 0 1.061 1.06l2.25-2.25L16 12l-.53-.53-2.25-2.25a.75.75 0 1 0-1.06 1.06l.97.97H8.392A4.874 4.874 0 1 0 .018 8.298a.75.75 0 1 0 1.495-.13A3.375 3.375 0 0 1 3.39 4.844Z",ht="m1.5 8.5 2.5-6h8l2.5 6h-13ZM0 8.569v2.181c0 .966.784 1.75 1.75 1.75H2v.75c0 .966.784 1.75 1.75 1.75h8.5a.75.75 0 0 0 0-1.5h-8.5a.25.25 0 0 1-.25-.25v-.75h10.25a.75.75 0 0 0 0-1.5h-12a.25.25 0 0 1-.25-.25V10h13a1.5 1.5 0 0 0 1.385-2.077l-2.629-6.308A1 1 0 0 0 12.333 1H3.667a1 1 0 0 0-.923.615L.115 7.923A1.498 1.498 0 0 0 0 8.569Z",bt="M6.427.512A1.75 1.75 0 0 1 7.664 0H13v3h3v5.335c0 .465-.185.91-.513 1.239L9.573 15.48a1.75 1.75 0 0 1-2.473 0l-2.293-2.293-1.293-1.293-3-3a1.75 1.75 0 0 1 0-2.475L6.428.512ZM11.5 1.5V3h-.836a1.75 1.75 0 0 0-1.237.512L3.514 9.419c-.06.06-.115.123-.165.19L1.574 7.833a.25.25 0 0 1 0-.353l5.913-5.907a.25.25 0 0 1 .177-.073H11.5ZM5.866 12.126l-1.292-1.293a.25.25 0 0 1 0-.353l5.913-5.907a.25.25 0 0 1 .177-.073H14.5v3.835a.25.25 0 0 1-.073.177L8.513 14.42a.25.25 0 0 1-.353 0l-2.294-2.293ZM12 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",_t="M9.25 3.75a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0ZM10.45 5a2.75 2.75 0 1 0-4.9 0H3.82a1 1 0 0 0-.98.804l-1.6 8A1 1 0 0 0 2.22 15h11.56a1 1 0 0 0 .98-1.196l-1.6-8A1 1 0 0 0 12.18 5h-1.73ZM8 6.5H4.23l-1.4 7h10.34l-1.4-7H8Z",yt="M2 0a2 2 0 0 0-2 2v10.06l1.28-1.28 1.53-1.53H4V11a2 2 0 0 0 2 2h7l1.5 1.5L16 16V6a2 2 0 0 0-2-2h-2V2a2 2 0 0 0-2-2H2Zm8.5 4V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v6.44l.47-.47.22-.22H4V6a2 2 0 0 1 2-2h4.5Zm3.56 7.94.44.439V6a.5.5 0 0 0-.5-.5H6a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h7.621l.44.44Z",ls=S("div",{class:"gl-pl-4 gl-py-2 gl-font-sm gl-font-weight-bold gl-display-flex gl-align-items-center"},[S("span",null,"Starred Projects")],-1),as={key:0,class:"gl-mb-0 gl-pl-0 gl-list-style-none"},os=["href"],rs={class:"gl-new-dropdown-item-text-wrapper"},is={class:"gl-display-flex gl-align-items-center gl-gap-3"},us=["src"],cs={key:1,class:"gl-avatar gl-avatar-s24 gl-align-self-start gl-flex-shrink-0 gl-avatar-identicon gl-avatar-identicon-bg6"},ds={class:"gl-flex-grow-1 gl-flex-shrink-1 gl-truncate-end"},fs=["href"],gs=["href"],ms=["href"],ps=["href"],vs=le({__name:"StarredProjects",props:{gitlabUserId:{default:0},match:{default:""}},setup(e){const t=e,{gitlabUserId:s,match:n}=ue(t),{getSetting:l}=K(),a=C([]),o=C({}),r=D(()=>!!l(O.COMMAND_PANEL_STARRED_PROJECTS,!0));async function f(){if(!r.value)return;const{data:g}=await se(`/api/v4/users/${s.value}/starred_projects`).json();a.value=g.value,n.value!==""&&(a.value=a.value.filter(c=>c.name_with_namespace.toLowerCase().includes(n.value.toLowerCase()))),a.value.forEach(c=>{se(`/api/v4/projects/${c.id}/merge_requests?state=opened&wip=no&per_page=100`).json().then(({data:i})=>{o.value[c.id]=i.value.length})})}return G([n,r],async()=>f()),ce(async()=>{f()}),(g,c)=>(T(),L(re,null,[ls,r.value?(T(),L("ul",as,[(T(!0),L(re,null,_e(a.value,i=>(T(),L("li",{key:i.id,class:"show-on-focus-or-hover--context gl-new-dropdown-item",tabindex:"0"},[S("a",{class:"gl-new-dropdown-item-content",href:i.web_url},[S("span",rs,[S("div",is,[i.avatar_url?(T(),L("img",{key:0,class:"gl-avatar gl-avatar-s24",src:i.avatar_url},null,8,us)):(T(),L("div",cs,H(i.name.charAt(0)),1)),S("div",ds,H(i.name_with_namespace),1),S("div",null,[S("a",{class:"gl-link gl-reset-color! gl-mr-4 has-tooltip",href:`${i.web_url}/-/issues`,title:"Issues"},[V(j,{class:"gl-mr-2","is-gitlab":!0,path:P(ns)},null,8,["path"]),S("span",null,H(i.open_issues_count),1)],8,fs),S("a",{class:"gl-link gl-reset-color! gl-mr-4 has-tooltip",href:`${i.web_url}/-/merge_requests?draft=no`,title:"Merge requests"},[V(j,{class:"gl-mr-2","is-gitlab":!0,path:P(ts)},null,8,["path"]),S("span",null,H(o.value?.[i.id]||0),1)],8,gs),S("a",{class:"gl-button btn btn-icon btn-sm btn-default gl-ml-4 gl-mr-3 has-tooltip",href:`${i.web_url}/-/boards?iteration_id=Current`,title:"Issue board"},[V(j,{class:"gl-icon s16",path:P(Mt)},null,8,["path"])],8,ms),S("a",{class:"gl-button btn btn-icon btn-sm btn-default has-tooltip",href:`${i.web_url}/-/pipelines`,title:"Pipelines"},[V(j,{class:"gl-icon s16","is-gitlab":!0,path:P(ss)},null,8,["path"])],8,ps)])])])],8,os)]))),128))])):N("",!0)],64))}}),hs=le({__name:"CommandPanelEnhancer",props:{gitlabUserId:{default:0}},setup(e){const t=e,{gitlabUserId:s}=ue(t),{getSetting:n}=K(),l=C(null);let a=null;const o=C(null);let r=null;const f=C(null),g=C(""),c=D(()=>!!n(O.COMMAND_PANEL_MOVE_PLACES,!0));function i(){if(!c.value||g.value!==""||!o.value)return;const _=o.value.querySelectorAll(".global-search-results > ul > li");if(_?.length>=3){const b=_[0],k=_[3];k?.parentNode?.insertBefore(b,k),b.classList.add("gl-border-t","gl-border-t-gray-200","gl-pt-2","gl-mt-2","gl-mt-3")}}function u(){const _=o.value?.querySelector(".global-search-results ul")||null;_&&(l.value=document.createElement("li"),l.value.className="gl-p-0 gl-m-0 gl-pt-2",l.value?.setAttribute("bordered","true"),_.prepend(l.value))}function m(){i(),u()}function y(_){const b=_.target;g.value=b.value,w()}function M(){f.value?.removeEventListener("input",A),f.value=null,o.value=null,r?.(),r=null}function E(){const _=document.getElementById("super-sidebar-search-modal");if(o.value=document.getElementById("super-sidebar-search-modal___BV_modal_content_")||null,!_||!o.value){M();return}f.value=o.value?.querySelector("input#search"),f.value?.addEventListener("input",A),r?.();const{stop:b}=wn(_,()=>{setTimeout(()=>{document.body.contains(o.value)||M()},300)},{childList:!0,subtree:!0});r=b,m()}function h(_){if(_.key==="/"){const b=_.target;["INPUT","TEXTAREA"].includes(b.tagName)||E()}}const A=Z(y,300),p=Z(h,200),w=Z(m,200);return ce(()=>{window.addEventListener("keydown",p),a=document.getElementById("super-sidebar-search"),a&&a.addEventListener("click",E)}),He(()=>{window.removeEventListener("keydown",p),a&&a.removeEventListener("click",i)}),(_,b)=>(T(),L("div",null,[l.value?(T(),Y(Me,{key:0,to:l.value},[V(vs,{"gitlab-user-id":P(s),match:g.value},null,8,["gitlab-user-id","match"])],8,["to"])):N("",!0)]))}}),bs={key:0},_s={class:"gl-font-weight-bold"},ys={class:"gl-font-weight-bold"},Es=le({__name:"MyUnresolvedThreads",props:{gitlabUserId:{default:0},currentProjectPath:{default:""},isMergeRequest:{type:Boolean,default:!0}},setup(e){const t=e,{gitlabUserId:s,currentProjectPath:n,isMergeRequest:l}=ue(t),{getSetting:a}=K(),o=te([]),r=C(new Map);function f(h){return Array.isArray(h)?h[0]:n.value}function g(h){return Array.isArray(h)?h[1]:h}function c(h){return("teleport-issuable-meta-"+f(h)+"-"+g(h)).replace(/\//g,"_")}const i=D(()=>l.value&&!!a(O.MR_SHOW_MY_UNRESOLVED_THREADS,!0)||!l.value&&!!a(O.ISSUE_SHOW_MY_UNRESOLVED_THREADS,!0)),u=D(()=>o.value.map(h=>c(h))),m=D(()=>{const h=new Map;return o.value.forEach(A=>{const p=g(A),w=(r.value.get(p)||[]).filter(_=>{const b=_?.notes?.[0]||null;return!!b?.resolvable&&!b?.resolved});h.set(c(A),w.length)}),h}),y=D(()=>{const h=new Map;return o.value.forEach(A=>{const p=g(A),w=(r.value.get(p)||[]).filter(_=>{const b=_?.notes?.[0]||null;return!!b?.resolvable&&!b?.resolved&&b?.author?.id===s.value});h.set(c(A),w.length)}),h});function M(){o.value.forEach(h=>{const A=f(h),p=g(h);se(`/api/v4/projects/${encodeURIComponent(A)}/${l.value?"merge_requests":"issues"}/${p}/discussions?per_page=100&is_custom=1`).json().then(({data:w})=>{w?.value&&r.value.set(p,w?.value||[])})})}function E(){const h=[];document.querySelectorAll(".issuable-list > li .issuable-reference").forEach(A=>{const p=A.textContent?.trim()?.split(l.value?"!":"#")||[];let w=p[0];p.length===2&&(w=p[0]===""?p[1]:p),h.push(w);const b=A.closest(l.value?".issuable-info-container":"li.issue")?.querySelector(".issuable-meta > ul"),k=document.createElement("div");k.className="gl-display-flex align-items-center",k.id=c(w),b?.append(k)}),o.value=h,M()}return G(i,h=>{h&&E()},{immediate:!0}),(h,A)=>(T(),L("div",null,[i.value?(T(),L("div",bs,[(T(!0),L(re,null,_e(u.value,p=>(T(),Y(Me,{key:p,to:`#${p}`},[S("li",{class:z(["has-tooltip gl-display-none gl-sm-display-block gl-mr-3 md gl-text-orange-500!",{"badge badge-pill gl-badge badge-warning":m.value.get(p)}]),style:we({opacity:m.value.get(p)?1:.5}),title:"Unresolved threads"},[V(j,{class:"gl-icon s16 gl-mr-2",path:P(rt),style:{fill:"currentColor"}},null,8,["path"]),S("span",_s,H(m.value.get(p)||0),1)],6),S("li",{class:z(["has-tooltip gl-display-none gl-sm-display-block md gl-text-red-500!",{"badge badge-pill gl-badge badge-danger":y.value.get(p)}]),style:we({opacity:y.value.get(p)?1:.5}),title:"My unresolved threads"},[V(j,{class:"gl-icon s16 gl-mr-2",path:P(Ie),style:{fill:"currentColor"}},null,8,["path"]),S("span",ys,H(y.value.get(p)||0),1)],6)],8,["to"]))),128))])):N("",!0)]))}}),Ss={style:{display:"flex"}},ws={key:0,class:"gl-display-flex gl-align-items-center gl-pl-4 gl-rounded-base gl-min-h-7 gl-bg-red-100 gl-mr-3"},Is={class:"gl-ml-3 btn-group"},As=le({__name:"MergeRequestDetail",props:{gitlabUserId:{default:0},iid:{default:0},currentProjectPath:{default:""}},setup(e){const t=e,{gitlabUserId:s,iid:n,currentProjectPath:l}=ue(t),{getSetting:a}=K(),o=C(null),r=te([]),f=D(()=>!!a(O.MR_SHOW_MY_UNRESOLVED_THREADS,!0));async function g(){if(!n.value||!f.value)return;const{data:p}=await se(`/api/v4/projects/${encodeURIComponent(l.value)}/merge_requests/${n.value}/discussions?per_page=100&is_custom=1`).json();r.value=p?.value||[],m()}const c=Z(async()=>{await g()},300);function i(p){if(p.target instanceof HTMLInputElement||p.target instanceof HTMLTextAreaElement||document.querySelectorAll(".diff-files-holder .vue-recycle-scroller").length)return;const _=document.querySelector('.diff-files-holder .file-actions input[type="checkbox"] + label'),b=document.querySelector(".diff-files-holder .next-page-item");_&&b&&(_.click(),setTimeout(()=>{b.click()},300))}function u(p){p.shiftKey&&p.key==="J"&&i(p)}function m(){o.value?.remove(),o.value=document.createElement("div");const p=document.querySelector(".merge-request-sticky-header:not(.gl-visibility-hidden) .merge-request-tabs + div");if(p){p.prepend(o.value);return}document.querySelector(".merge-request-details .merge-request-tabs-container > div")?.prepend(o.value)}const y=Z(m,400);ce(async()=>{a(O.MR_HOTKEY_VIEWED_NEXT,!0)&&window.addEventListener("keydown",u),window.addEventListener("scroll",y),window.addEventListener("message",p=>{p.data.type==="chrome-request-completed"&&!p.data.data.url.includes("is_custom=1")&&c?.()}),ye(()=>{m()}),c?.()}),He(()=>{window.removeEventListener("keydown",u),window.removeEventListener("scroll",y)});const M=D(()=>r.value.filter(p=>{const w=p?.notes?.[0]||null;return!!w?.resolvable&&!w?.resolved&&w?.author?.id===s.value})),E=C(-1),h=D(()=>M.value.map(p=>`note_${p?.notes?.[0]?.id}`));function A(p){E.value===-1?E.value=p>0?0:M.value.length-1:E.value=(E.value+p+M.value.length)%M.value.length;const w=h.value[E.value];w&&document.getElementById(w)?.scrollIntoView({behavior:"smooth"})}return(p,w)=>(T(),L("div",Ss,[f.value&&o.value?(T(),Y(Me,{key:0,to:o.value},[h.value.length?(T(),L("div",ws,[S("span",null,H(M.value.length)+" my unresolved threads",1),S("div",Is,[S("button",{class:"btn discussion-previous-btn gl-rounded-base! gl-px-2! btn-default btn-md gl-button btn-default-tertiary btn-icon",title:"Go to my previous unresolved thread",onClick:w[0]||(w[0]=W(_=>A(-1),["prevent"]))},[V(j,{class:"gl-button-icon","is-gitlab":!0,path:P(je)},null,8,["path"])]),S("button",{class:"btn discussion-previous-btn gl-rounded-base! gl-px-2! btn-default btn-md gl-button btn-default-tertiary btn-icon",title:"Go to my next unresolved thread",onClick:w[1]||(w[1]=W(_=>A(1),["prevent"]))},[V(j,{class:"gl-button-icon","is-gitlab":!0,path:P($e)},null,8,["path"])])])])):N("",!0)],8,["to"])):N("",!0)]))}}),Ts={class:"toggle-icon"},Ms={class:"gl-icon s16",viewBox:"0 0 24 24"},ks=["d"],Os=le({__name:"GToggle",props:{modelValue:{type:Boolean,default:!1}},emits:["update:model-value"],setup(e,{emit:t}){const s=e,{modelValue:n}=ue(s),l=t;return(a,o)=>(T(),L("button",{class:z([{"is-checked":P(n)},"gl-flex-shrink-0 gl-toggle"]),onClick:o[0]||(o[0]=W(r=>l("update:model-value",!P(n)),["prevent"]))},[S("span",Ts,[(T(),L("svg",Ms,[S("path",{d:P(kt)},null,8,ks)]))])],2))}}),Cs=e=>(jt("data-v-b7e23904"),e=e(),$t(),e),Ls={class:"dropdown b-dropdown gl-dropdown btn-group gl-display-block!"},xs=Cs(()=>S("span",{class:"gl-dropdown-button-text"},"GitLab Enhancer",-1)),Ps={class:"gl-dropdown-inner"},Ds={class:"gl-dropdown-contents"},Rs={class:"gl-ml-3"},Vs=["onClick"],Ns=["title"],js={class:"gl-dropdown-item-text-wrapper"},$s={class:"gl-dropdown-item-text-primary"},Us=["value","onInput"],Hs=le({__name:"Preferences",setup(e){const{getSetting:t,setSetting:s}=K(),n=C(null),l=C(!1);gn(n,()=>{l.value=!1});const a={"Command Panel":[{label:"Show starred projects",title:"",key:O.COMMAND_PANEL_STARRED_PROJECTS,icon:Ot,isGitlabIcon:!1,iconClassName:"",defaultValue:!0},{label:'Move "Places" after "Frequently visited"',title:"",key:O.COMMAND_PANEL_MOVE_PLACES,icon:Ct,isGitlabIcon:!1,iconClassName:"s24",defaultValue:!0}],General:[{label:"Highlight my issues & merge requests",title:"Highlighted with purple dashed border",key:O.GENERAL_HIGHLIGHT_MY_ISSUES_MRS,icon:Lt,isGitlabIcon:!1,iconClassName:"gl-ml-1 s24",defaultValue:!0}],Issues:[{label:"Show # of my unresolved threads",title:"",key:O.ISSUE_SHOW_MY_UNRESOLVED_THREADS,icon:Ie,isGitlabIcon:!1,iconClassName:"gl-ml-2",defaultValue:!0},{label:"Render project avatars",title:"In issue overview & board",key:O.ISSUE_RENDER_PROJECT_AVATARS,icon:xt,isGitlabIcon:!1,iconClassName:"gl-ml-2",defaultValue:!0},{label:'Validate missing "Epic"',title:"",key:O.ISSUE_VALIDATE_MISSING_EPIC,icon:ht,isGitlabIcon:!0,iconClassName:"gl-ml-2",defaultValue:!0},{label:'Validate missing "Milestone"',title:"",key:O.ISSUE_VALIDATE_MISSING_MILESTONE,icon:Pt,isGitlabIcon:!1,iconClassName:"gl-ml-2",defaultValue:!0},{label:'Validate missing "Iteration"',title:"",key:O.ISSUE_VALIDATE_MISSING_ITERATION,icon:vt,isGitlabIcon:!0,iconClassName:"gl-ml-2",defaultValue:!0},{label:'Validate missing "Weight"',title:"",key:O.ISSUE_VALIDATE_MISSING_WEIGHT,icon:_t,isGitlabIcon:!0,iconClassName:"gl-ml-2",defaultValue:!0},{label:"Validate unresolved threads",title:"",key:O.ISSUE_VALIDATE_UNRESOLVED_THREADS,icon:yt,isGitlabIcon:!0,iconClassName:"gl-ml-2",defaultValue:!0},{label:"Required labels",title:"Use comma separated values",key:O.ISSUE_REQUIRED_SCOPED_LABELS,icon:bt,isGitlabIcon:!0,iconClassName:"gl-ml-2",defaultValue:""}],"Merge Requests":[{label:"Show # of my unresolved threads",title:"",key:O.MR_SHOW_MY_UNRESOLVED_THREADS,icon:Ie,isGitlabIcon:!1,iconClassName:"gl-ml-2",defaultValue:!0},{label:'Dim "Draft"',title:"",key:O.MR_DIM_DRAFT,icon:Dt,isGitlabIcon:!1,iconClassName:"gl-ml-2",defaultValue:!0},{label:"Hotkey mark as viewed & go to next file",title:"Shift+J",key:O.MR_HOTKEY_VIEWED_NEXT,icon:Rt,isGitlabIcon:!1,iconClassName:"gl-ml-2",defaultValue:!0}]};function o(f,g){const c=g.target;s(f,c?.value||"")}function r(f){typeof f.defaultValue=="boolean"&&s(f.key,!t(f.key,f.defaultValue))}return(f,g)=>(T(),L("div",{id:"chrome-gitlab-enhancer__preferences",ref_key:"rootPreferencesElement",ref:n},[S("div",Ls,[S("button",{class:"btn dropdown-toggle btn-default btn-md gl-button gl-dropdown-toggle",style:{"box-shadow":"none","border-color":"#e24329","border-width":"1px",padding:"0.25rem 0.5rem"},onClick:g[0]||(g[0]=W(c=>l.value=!l.value,["prevent"]))},[V(Vt,{style:{width:"24px",height:"24px"}}),xs,V(j,{class:"gl-ml-1",path:P(Nt)},null,8,["path"])]),S("ul",{class:z([{show:l.value},"dropdown-menu"]),style:{right:"0",left:"initial",width:"320px"}},[S("div",Ps,[S("div",Ds,[(T(),L(re,null,_e(a,(c,i)=>(T(),L(re,{key:i},[S("label",Rs,H(i),1),(T(!0),L(re,null,_e(c,u=>(T(),L("li",{key:u.key,class:"gl-dropdown-item",onClick:m=>r(u)},[S("button",{class:z(["dropdown-item",{"has-tooltip":!!u.title}]),style:we({"flex-wrap":typeof u.defaultValue=="string"?"wrap":"nowrap"}),title:u.title,onClick:g[1]||(g[1]=W(()=>{},["prevent"]))},[u.icon?(T(),Y(j,{key:0,class:z([u.iconClassName,"gl-mr-3"]),"is-gitlab":u.isGitlabIcon,path:u.icon},null,8,["class","is-gitlab","path"])):N("",!0),S("div",js,[S("p",$s,H(u.label),1)]),typeof u.defaultValue=="boolean"?(T(),Y(Os,{key:1,"model-value":!!P(t)(u.key,u.defaultValue)},null,8,["model-value"])):N("",!0),typeof u.defaultValue=="string"?(T(),L("input",{key:2,class:"form-control gl-border-gray-200",style:{"margin-left":"24px","margin-bottom":"8px"},type:"text",value:P(t)(u.key,u.defaultValue),onInput:m=>o(u.key,m)},null,40,Us)):N("",!0)],14,Ns)],8,Vs))),128))],64))),64))])])],2)])],512))}});const Gs=it(Hs,[["__scopeId","data-v-b7e23904"]]),qs={key:0,class:"gl-display-flex gl-align-items-center gl-pl-4 gl-rounded-base gl-min-h-7 gl-bg-red-100 gl-mr-3 has-tooltip",title:"My unresolved threads"},Fs={class:"gl-ml-3 btn-group"},Ws={key:1,class:"gl-display-flex gl-align-items-center gl-pl-4 gl-rounded-base gl-min-h-7 gl-bg-orange-100 gl-mr-3 has-tooltip",title:"Total unresolved threads"},Bs={class:"gl-ml-3 btn-group"},Zs={class:"gl-dropdown-button-text"},Js={key:0,class:"badge gl-ml-2 badge-danger badge-pill gl-badge sm",style:{"background-color":"#ae1800",color:"#fdd4cd"}},Ys={class:"gl-dropdown-inner"},zs={class:"gl-dropdown-contents"},Ks={class:"dropdown-item"},Xs={class:"gl-dropdown-item-text-wrapper gl-display-flex gl-justify-content-center"},Qs=le({__name:"IssueDetail",props:{gitlabUserId:{default:0},iid:{default:0},currentProjectPath:{default:""}},setup(e){const t=e,{gitlabUserId:s,iid:n,currentProjectPath:l}=ue(t),{getSetting:a}=K(),o=C(!1),r=C(null),f=te(null),g=te([]),c=C(-1),i=D(()=>!!a(O.ISSUE_SHOW_MY_UNRESOLVED_THREADS,!0)),u=D(()=>g.value.filter(v=>{const d=v?.notes?.[0]||null;return!!d?.resolvable&&!d?.resolved})),m=D(()=>u.value.filter(v=>v?.notes?.[0]?.author?.id===s.value)),y=D(()=>{const v=[{key:O.ISSUE_VALIDATE_MISSING_EPIC,label:"Epic",icon:ht,isGitlabIcon:!0,isValid:f.value?.epic!==null?1:0},{key:O.ISSUE_VALIDATE_MISSING_MILESTONE,label:"Milestone",icon:Gt,isGitlabIcon:!1,isValid:f.value?.milestone!==null?1:0},{key:O.ISSUE_VALIDATE_MISSING_ITERATION,label:"Iteration",icon:vt,isGitlabIcon:!0,isValid:f.value?.iteration!==null?1:0},{key:O.ISSUE_VALIDATE_MISSING_WEIGHT,label:"Weight",icon:_t,isGitlabIcon:!0,isValid:f.value?.weight!==null?1:0},{key:O.ISSUE_VALIDATE_UNRESOLVED_THREADS,label:"Unresolved threads",icon:yt,isGitlabIcon:!0,isValid:u.value.length===0}],d=a(O.ISSUE_REQUIRED_SCOPED_LABELS,"");if(d!==""){const R=d.split(",").map(U=>({key:U,label:`Label "${U}"`,icon:bt,isGitlabIcon:!0,isValid:f.value?.labels.some(q=>q.startsWith(U.trim()))?1:0}));v.push(...R)}return v}),M=D(()=>y.value.filter(v=>!!a(v.key,!0))),E=D(()=>M.value.filter(v=>!v.isValid).length);function h(){r.value?.remove(),r.value=document.createElement("div"),r.value?.classList.add("gl-ml-auto","gl-display-flex");const v=document.querySelector(".issue-sticky-header .issue-sticky-header-text");if(v){v.append(r.value);return}document.querySelector(".issue-details .detail-page-header-actions")?.prepend(r.value)}const A=Z(h,400);async function p(){if(!n.value)return;const{data:v}=await se(`/api/v4/projects/${encodeURIComponent(l.value)}/issues/${n.value}?is_custom=1`).json();f.value=v?.value||null,ye(()=>h())}async function w(){if(!n.value)return;const{data:v}=await se(`/api/v4/projects/${encodeURIComponent(l.value)}/issues/${n.value}/discussions?is_custom=1`).json();g.value=v?.value||[]}const _=Z(async()=>{await p()},300),b=Z(async()=>{await w()},300);function k(v){c.value===-1?c.value=v>0?0:u.value.length-1:c.value=(c.value+v+u.value.length)%u.value.length;const d=`note_${u.value?.[c.value]?.notes?.[0]?.id}`;document.getElementById(d)?.scrollIntoView({behavior:"smooth"})}return ce(()=>{window.addEventListener("scroll",A),window.addEventListener("message",v=>{v.data.type==="chrome-request-completed"&&!v.data.data.url.includes("is_custom=1")&&!v.data.data.url.includes("realtime_changes")&&(_(),b())}),_(),b()}),He(()=>{window.removeEventListener("scroll",A)}),(v,d)=>(T(),L("div",null,[r.value?(T(),Y(Me,{key:0,to:r.value},[i.value&&m.value.length?(T(),L("div",qs,[V(j,{class:"gl-icon gl-mr-3",path:P(Ie)},null,8,["path"]),S("span",null,H(m.value.length),1),S("div",Fs,[S("button",{class:"btn discussion-previous-btn gl-rounded-base! gl-px-2! btn-default btn-md gl-button btn-default-tertiary btn-icon",title:"Go to my previous unresolved thread",onClick:d[0]||(d[0]=W(I=>k(-1),["prevent"]))},[V(j,{class:"gl-button-icon","is-gitlab":!0,path:P(je)},null,8,["path"])]),S("button",{class:"btn discussion-previous-btn gl-rounded-base! gl-px-2! btn-default btn-md gl-button btn-default-tertiary btn-icon",title:"Go to my next unresolved thread",onClick:d[1]||(d[1]=W(I=>k(1),["prevent"]))},[V(j,{class:"gl-button-icon","is-gitlab":!0,path:P($e)},null,8,["path"])])])])):N("",!0),u.value.length?(T(),L("div",Ws,[V(j,{class:"gl-icon gl-mr-3",path:P(rt)},null,8,["path"]),S("span",null,H(u.value.length),1),S("div",Bs,[S("button",{class:"btn discussion-previous-btn gl-rounded-base! gl-px-2! btn-default btn-md gl-button btn-default-tertiary btn-icon",title:"Go to previous unresolved thread",onClick:d[2]||(d[2]=W(I=>k(-1),["prevent"]))},[V(j,{class:"gl-button-icon","is-gitlab":!0,path:P(je)},null,8,["path"])]),S("button",{class:"btn discussion-previous-btn gl-rounded-base! gl-px-2! btn-default btn-md gl-button btn-default-tertiary btn-icon",title:"Go to next unresolved thread",onClick:d[3]||(d[3]=W(I=>k(1),["prevent"]))},[V(j,{class:"gl-button-icon","is-gitlab":!0,path:P($e)},null,8,["path"])])])])):N("",!0),M.value.length>0?(T(),L("div",{key:2,class:"dropdown b-dropdown gl-dropdown btn-group gl-display-block!",onMouseenter:d[4]||(d[4]=W(I=>o.value=!0,["prevent"])),onMouseleave:d[5]||(d[5]=W(I=>o.value=!1,["prevent"]))},[S("button",{class:z([{"gl-bg-green-100!":!E.value,"gl-border-green-500!":!E.value,"gl-text-green-500!":!E.value,"gl-bg-red-100!":E.value,"gl-border-red-500!":E.value,"gl-text-red-500!":E.value,"gl-font-weight-bold!":E.value},"btn dropdown-toggle btn-default btn-md gl-button gl-dropdown-toggle gl-pl-3!"]),style:{"box-shadow":"none","border-width":"1px"}},[V(j,{class:"gl-mr-3",path:E.value?P(Ht):P(Ut),style:we({fill:E.value?"#dd2b0e":"#108548"})},null,8,["path","style"]),S("span",Zs,[Fe(H(E.value?"Incomplete":"Valid")+" ",1),E.value?(T(),L("span",Js,H(E.value),1)):N("",!0)]),N("",!0)],2),S("ul",{class:z([{show:o.value},"dropdown-menu"]),style:{right:"0",left:"initial",width:"auto","min-width":"0"}},[S("div",Ys,[S("div",zs,[(T(!0),L(re,null,_e(M.value,I=>(T(),L("li",{key:I.key,class:"gl-dropdown-item"},[S("button",Ks,[S("div",Xs,[S("span",{class:z([{"badge-success":I.isValid,"badge-danger":!I.isValid},"badge badge-pill gl-badge lg"])},[V(j,{class:"gl-badge-icon gl-ml-1 gl-mr-3","is-gitlab":I.isGitlabIcon,path:I.icon},null,8,["is-gitlab","path"]),Fe(" "+H(I.label),1)],2)])])]))),128))])])],2)],32)):N("",!0)],8,["to"])):N("",!0)]))}});const el=it(Qs,[["__scopeId","data-v-59c05e55"]]);async function tl(e){const{data:t}=await se(`/api/v4/projects/${encodeURIComponent(e)}?is_custom=1`).json();return t?.value||null}function nl(){const{getSetting:e}=K(),t={},s=D(()=>!!e(O.ISSUE_RENDER_PROJECT_AVATARS,!0));function n(o){const r=t[o];r&&(window.location.href.includes("issues")&&document.querySelectorAll(`li.issue a.issue-title-text[href*="${o}"]`).forEach(g=>{const c=g?.parentElement?.parentElement?.parentElement||null;if(c&&!c.children?.[0].classList.contains("chrome-gitlab-enhancer__project-avatar")){let i;r.includes("http")?(i=document.createElement("img"),i.setAttribute("src",r),i.setAttribute("style","width: 24px;")):(i=document.createElement("div"),i.className="gl-avatar gl-avatar-identicon gl-avatar-s24 gl-avatar-identicon-bg6",i.textContent=r),i.classList.add("gl-mr-5","chrome-gitlab-enhancer__project-avatar"),c.prepend(i),c.classList.add("gl-align-items-center")}}),window.location.href.includes("boards")&&r.includes("http")&&document.querySelectorAll(`li.board-card span[title="${o}"]`).forEach(g=>{if(g.parentElement&&g.previousElementSibling){const c=document.createElement("img");c.setAttribute("src",r),c.setAttribute("style","width: 20px;"),c.classList.add("chrome-gitlab-enhancer__project-avatar"),g.parentElement.replaceChild(c,g.previousElementSibling),g.parentElement.classList.add("gl-display-flex","gl-align-items-center")}}))}function l(){const o=[];window.location.href.includes("issues")&&document.querySelectorAll("ul.issues-list li.issue .issuable-info .issuable-reference").forEach(f=>{const g=f?.textContent?.split("#")?.[0].trim()||"";!g||o.includes(g)||o.push(g)}),window.location.href.includes("boards")&&document.querySelectorAll("div.boards-app ul.board-list li.board-card").forEach(f=>{const c=(f.getAttribute("data-item-path")||"").split("#")[0]||"";!c||o.includes(c)||o.push(c)}),o.forEach(r=>{t[r]?n(r):tl(r).then(f=>{t[r]=f?.avatar_url||f?.name?.charAt(0)||null,n(r)})})}function a(){s.value&&l()}return G(s,()=>{window.location.reload()}),{render:Z(a,500)}}function sl(){const{getSetting:e}=K();function t(s){!s||!e(O.GENERAL_HIGHLIGHT_MY_ISSUES_MRS,!0)||(window.location.href.includes("boards")&&document.querySelectorAll(`.board-card a[href="/${s}"]`).forEach(l=>{l.closest("li.board-card")?.classList.add("gl-border","gl-border-2","gl-border-dashed","gl-border-purple-700")}),window.location.href.includes("issues")&&!window.location.href.includes("dashboard")&&document.querySelectorAll(`.issuable-meta a.gl-avatar-link[href$="/${s}"]`).forEach(l=>{l.closest(".issuable-info-container")?.closest("li")?.classList.add("gl-border!","gl-border-2!","gl-rounded-base!","gl-border-dashed!","gl-border-purple-700!","gl-m-3!")}),window.location.href.includes("merge_requests")&&!window.location.href.includes("dashboard")&&document.querySelectorAll(`.issuable-meta li:not(.issuable-reviewers) a.author-link[href$="/${s}"]`).forEach(l=>{l.closest(".issuable-info-container")?.closest("li")?.classList.add("gl-border!","gl-border-2!","gl-rounded-base!","gl-border-dashed!","gl-border-purple-700!","gl-m-3!")}))}return{highlight:Z(t,500)}}function ll(){const{getSetting:e}=K();function t(){!e(O.MR_DIM_DRAFT,!0)||!window.location.href.includes("merge_requests")||document.querySelectorAll("li.merge-request").forEach(s=>{s.textContent?.includes("Draft:")&&s.classList.add("merge-request-draft")})}return{dim:Z(t,300)}}const al={key:0},ol=le({__name:"App",setup(e){const{render:t}=nl(),{highlight:s}=sl(),{dim:n}=ll(),l=C(0),a=C(""),o=C(!1),r=D(()=>!!l.value),f=vn(),g=D(()=>f.value?.pathname?.split("/-/")?.[0].slice(1)||""),c=D(()=>{if(!f.value?.pathname)return 0;const y=/\/(\d+)\/?.*$/.exec(f.value.pathname);return y?.length===2?parseInt(y[1],10):0}),i=D(()=>f.value.pathname?.includes("merge_requests")),u=D(()=>f.value.pathname?.includes("issues"));return ce(()=>{window.addEventListener("message",m=>{m.data.type==="chrome-request-completed"&&!m.data.data.url.includes("is_custom=1")&&(t(),s(a.value),n(),o.value=!!document.querySelector("ul.issuable-list > li:first-child .issuable-reference"))}),se("/api/v4/user").json().then(({data:m})=>{l.value=m?.value?.id||0,a.value=m?.value?.username||""})}),(m,y)=>r.value?(T(),L("div",al,[V(Gs),l.value?(T(),Y(hs,{key:0,"gitlab-user-id":l.value},null,8,["gitlab-user-id"])):N("",!0),u.value&&c.value?(T(),Y(el,{key:1,"current-project-path":g.value,"gitlab-user-id":l.value,iid:c.value},null,8,["current-project-path","gitlab-user-id","iid"])):N("",!0),o.value&&!c.value?(T(),Y(Es,{key:2,"current-project-path":g.value,"gitlab-user-id":l.value,"is-merge-request":i.value},null,8,["current-project-path","gitlab-user-id","is-merge-request"])):N("",!0),i.value&&c.value?(T(),Y(As,{key:3,"current-project-path":g.value,"gitlab-user-id":l.value,iid:c.value},null,8,["current-project-path","gitlab-user-id","iid"])):N("",!0)])):N("",!0)}}),Et=qt(ol);Et.use(Wt());Et.mount("#chrome-gitlab-enhancer");
